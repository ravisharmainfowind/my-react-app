{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/my-app/src/components/DataGrid/DataGrid.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useForm } from \"react-hook-form\";\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-enterprise';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport { API_BASE_URL } from '../../constants/apiConstants';\nimport { Form, Modal, Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst DataGrid = () => {\n  _s();\n\n  const [gridApi, setGridApi] = useState(null);\n  const [gridColumnApi, setGridColumnApi] = useState(null);\n  const [rowData, setRowData] = useState([]);\n  const [showModal, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const [state, setState] = useState({\n    email: \"\",\n    employee_name: \"\",\n    employee_salary: \"\",\n    employee_age: \"\",\n    mobile_number: \"\",\n    date: \"\",\n    gender: \"\",\n    address: \"\",\n    profile_image: \"\"\n  });\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n\n  const onSubmit = data => {\n    //alert(JSON.stringify(data));\n    console.log(data); //handleSubmitClick()\n  }; // const [rowData, setRowData] = useState([\n  //     { make: \"Toyota\", model: \"Celica\", price: 35000 },\n  //     { make: \"Ford\", model: \"Mondeo\", price: 32000 },\n  //     { make: \"Porsche\", model: \"Boxter\", price: 72000 }\n  // ]);\n\n\n  const onGridReady = params => {\n    setGridApi(params.api);\n    setGridColumnApi(params.columnApi);\n\n    const updateData = data => {\n      setRowData(data);\n    }; //fetch('https://www.ag-grid.com/example-assets/olympic-winners.json')\n\n\n    fetch(API_BASE_URL + 'api/employees').then(resp => resp.json()).then(data => updateData(data));\n  }; // useEffect(() => {\n  //     fetch('https://www.ag-grid.com/example-assets/row-data.json')\n  //     .then(result => result.json())\n  //     .then(rowData => setRowData(rowData))\n  // }, []);\n\n\n  const onButtonClick = e => {\n    const selectedNodes = gridApi.getSelectedNodes();\n    const selectedData = selectedNodes.map(node => node.data);\n    const selectedDataStringPresentation = selectedData.map(node => `${node.employee_name} ${node.employee_age}`).join(', ');\n    alert(`Selected nodes: ${selectedDataStringPresentation}`);\n  };\n\n  const onDeleteClick = e => {\n    let self = this;\n    const selectedNodes = gridApi.getSelectedNodes();\n    const selectedData = selectedNodes.map(node => node.data);\n    const selectedDataStringPresentation = selectedData.map(employeeData => {\n      console.log(employeeData.id);\n      let id = employeeData.id;\n      axios.delete(API_BASE_URL + 'api/employees/' + id).then(function (response) {\n        if (response.status === 202) {\n          //self.setState({ deleteMessage: response.data.message }) \n          //self.getEmployees();\n          window.location.reload();\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }); //alert(`Selected nodes: ${selectedDataStringPresentation}`)\n  };\n\n  const handleChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setState(prevState => ({ ...prevState,\n      [id]: value\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ag-theme-alpine\",\n      style: {\n        height: 600,\n        width: 1040\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: onButtonClick,\n        children: \"Get selected rows\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: onDeleteClick,\n        children: \"Delete Rows\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-warning\",\n        onClick: handleShow,\n        children: \"Edit Row\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(AgGridReact, {\n        rowSelection: \"multiple\",\n        defaultColDef: {\n          width: 150,\n          editable: true,\n          filter: 'agTextColumnFilter',\n          floatingFilter: true,\n          resizable: true\n        },\n        defaultColGroupDef: {\n          marryChildren: true\n        },\n        columnTypes: {\n          numberColumn: {\n            width: 130,\n            filter: 'agNumberColumnFilter'\n          },\n          medalColumn: {\n            width: 100,\n            columnGroupShow: 'open',\n            filter: false\n          },\n          nonEditableColumn: {\n            editable: false\n          },\n          dateColumn: {\n            filter: 'agDateColumnFilter',\n            filterParams: {\n              comparator: function (filterLocalDateAtMidnight, cellValue) {\n                var dateParts = cellValue.split('/');\n                var day = Number(dateParts[0]);\n                var month = Number(dateParts[1]) - 1;\n                var year = Number(dateParts[2]);\n                var cellDate = new Date(year, month, day);\n\n                if (cellDate < filterLocalDateAtMidnight) {\n                  return -1;\n                } else if (cellDate > filterLocalDateAtMidnight) {\n                  return 1;\n                } else {\n                  return 0;\n                }\n              }\n            }\n          }\n        },\n        rowData: rowData,\n        onGridReady: onGridReady,\n        children: [/*#__PURE__*/_jsxDEV(AgGridColumn, {\n          headerName: \"Employee Name\",\n          field: \"employee_name\",\n          checkboxSelection: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n          headerName: \"Mobile No.\",\n          field: \"mobile_number\",\n          type: \"numberColumn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n          headerName: \"Employee Age\",\n          field: \"employee_age\",\n          type: \"numberColumn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n          headerName: \"Email\",\n          field: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AgGridColumn, {\n          headerName: \"Date\",\n          field: \"date\",\n          type: ['dateColumn', 'nonEditableColumn'],\n          width: 220\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Employee Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Employee Name: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              onChange: handleChange,\n              value: state.employee_name,\n              name: \"employee_name\",\n              placeholder: \"Employee Name\",\n              ref: register({\n                required: true,\n                minLength: 2\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), errors.employee_name && errors.employee_name.type === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: \"This is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 85\n            }, this), errors.employee_name && errors.employee_name.type === \"minLength\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: \"This is field required min length of 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 88\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Employee Salary: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              onChange: handleChange,\n              value: state.employee_salary,\n              name: \"employee_salary\",\n              placeholder: \"Employee Salary\",\n              ref: register({\n                required: true\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), errors.employee_salary && errors.employee_salary.type === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: \"This is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 89\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Employee Age: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              onChange: handleChange,\n              value: state.employee_age,\n              name: \"employee_age\",\n              placeholder: \"Employee Age\",\n              ref: register({\n                required: true,\n                pattern: /\\d+/\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), errors.employee_age && errors.employee_age.type === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: \"This is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 83\n            }, this), errors.employee_age && errors.employee_age.type === \"pattern\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: \"Please enter number for age.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 82\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Employee Email: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              onChange: handleChange,\n              value: state.email,\n              name: \"email\",\n              placeholder: \"Employee Age\",\n              ref: register({\n                required: true,\n                pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                maxLength: 50\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), errors.email && errors.email.type === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: \"This is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 69\n            }, this), errors.email && errors.email.type === \"pattern\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: \"Please enter valid email.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 68\n            }, this), errors.email && errors.email.type === \"maxLength\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error\",\n              children: \"This is field required max length of 50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 70\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true);\n};\n\n_s(DataGrid, \"eYZIs5Krh37Sx81xxK4ALdPGrlQ=\", false, function () {\n  return [useForm];\n});\n\n_c = DataGrid;\nexport default DataGrid;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataGrid\");","map":{"version":3,"sources":["/opt/lampp/htdocs/my-app/src/components/DataGrid/DataGrid.js"],"names":["React","useState","useEffect","axios","useForm","AgGridColumn","AgGridReact","API_BASE_URL","Form","Modal","Button","DataGrid","gridApi","setGridApi","gridColumnApi","setGridColumnApi","rowData","setRowData","showModal","setShow","handleClose","handleShow","state","setState","email","employee_name","employee_salary","employee_age","mobile_number","date","gender","address","profile_image","register","handleSubmit","errors","onSubmit","data","console","log","onGridReady","params","api","columnApi","updateData","fetch","then","resp","json","onButtonClick","e","selectedNodes","getSelectedNodes","selectedData","map","node","selectedDataStringPresentation","join","alert","onDeleteClick","self","employeeData","id","delete","response","status","window","location","reload","catch","error","handleChange","value","target","prevState","height","width","editable","filter","floatingFilter","resizable","marryChildren","numberColumn","medalColumn","columnGroupShow","nonEditableColumn","dateColumn","filterParams","comparator","filterLocalDateAtMidnight","cellValue","dateParts","split","day","Number","month","year","cellDate","Date","required","minLength","type","pattern","maxLength"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\nimport axios from 'axios';\nimport { useForm } from \"react-hook-form\";\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-enterprise';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-alpine.css';\nimport {API_BASE_URL } from '../../constants/apiConstants';\nimport { Form,Modal, Button } from \"react-bootstrap\";\n\nconst DataGrid = () => {\n    const [gridApi, setGridApi] = useState(null);\n    const [gridColumnApi, setGridColumnApi] = useState(null);\n    const [rowData, setRowData] = useState([]);\n    \n    const [showModal, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    \n    const [state , setState] = useState({\n      email : \"\",\n      employee_name : \"\",\n      employee_salary : \"\",\n      employee_age : \"\",\n      mobile_number : \"\",\n      date: \"\",\n      gender: \"\",\n      address:\"\",\n      profile_image:\"\"\n  })\n\n  const { register, handleSubmit, errors } = useForm();\n\n  const onSubmit = (data) => {\n    //alert(JSON.stringify(data));\n    console.log(data)\n    //handleSubmitClick()\n};\n   \n    // const [rowData, setRowData] = useState([\n    //     { make: \"Toyota\", model: \"Celica\", price: 35000 },\n    //     { make: \"Ford\", model: \"Mondeo\", price: 32000 },\n    //     { make: \"Porsche\", model: \"Boxter\", price: 72000 }\n    // ]);\n\n    const onGridReady = (params) => {\n        setGridApi(params.api);\n        setGridColumnApi(params.columnApi);\n    \n        const updateData = (data) => {\n          setRowData(data);\n        };\n        //fetch('https://www.ag-grid.com/example-assets/olympic-winners.json')\n         fetch(API_BASE_URL+'api/employees')\n        .then((resp) => resp.json())\n        .then((data) => updateData(data));\n    };    \n\n    // useEffect(() => {\n    //     fetch('https://www.ag-grid.com/example-assets/row-data.json')\n    //     .then(result => result.json())\n    //     .then(rowData => setRowData(rowData))\n    // }, []);\n\n    const onButtonClick = e => {\n        const selectedNodes = gridApi.getSelectedNodes()\n        const selectedData = selectedNodes.map( node => node.data )\n        const selectedDataStringPresentation = selectedData.map( node => `${node.employee_name} ${node.employee_age}`).join(', ')\n        alert(`Selected nodes: ${selectedDataStringPresentation}`)\n    }\n\n    const onDeleteClick = e => {\n        let self =this;\n        const selectedNodes = gridApi.getSelectedNodes()\n        const selectedData = selectedNodes.map( node => node.data )\n        const selectedDataStringPresentation = selectedData.map((employeeData)=>{\n            console.log(employeeData.id)\n            let id = employeeData.id;\n             axios.delete(API_BASE_URL+'api/employees/'+id)\n             .then(function (response) {\n                 if(response.status === 202){\n                     //self.setState({ deleteMessage: response.data.message }) \n                     //self.getEmployees();\n                     window.location.reload(); \n                 } \n             })\n             .catch(function (error) {\n                 console.log(error);\n             });\n        });\n        //alert(`Selected nodes: ${selectedDataStringPresentation}`)\n    } \n\n    const handleChange = (e) => {\n      const {id , value} = e.target   \n      setState(prevState => ({\n          ...prevState,\n          [id] : value\n      }))\n  }\n\n\n    return (<>\n        <div className=\"ag-theme-alpine\" style={{ height: 600, width: 1040 }}>\n            <button className=\"btn btn-primary\" onClick={onButtonClick}>Get selected rows</button>\n            <button className=\"btn btn-danger\" onClick={onDeleteClick}>Delete Rows</button>\n            <button className=\"btn btn-warning\" onClick={handleShow}>Edit Row</button>\n            <AgGridReact\n            rowSelection=\"multiple\"\n            defaultColDef={{\n              width: 150,\n              editable: true,\n              filter: 'agTextColumnFilter',\n              floatingFilter: true,\n              resizable: true,\n            }}\n            defaultColGroupDef={{ marryChildren: true }}\n            columnTypes={{\n              numberColumn: {\n                width: 130,\n                filter: 'agNumberColumnFilter',\n              },\n              medalColumn: {\n                width: 100,\n                columnGroupShow: 'open',\n                filter: false,\n              },\n              nonEditableColumn: { editable: false },\n              dateColumn: {\n                filter: 'agDateColumnFilter',\n                filterParams: {\n                  comparator: function (filterLocalDateAtMidnight, cellValue) {\n                    var dateParts = cellValue.split('/');\n                    var day = Number(dateParts[0]);\n                    var month = Number(dateParts[1]) - 1;\n                    var year = Number(dateParts[2]);\n                    var cellDate = new Date(year, month, day);\n                    if (cellDate < filterLocalDateAtMidnight) {\n                      return -1;\n                    } else if (cellDate > filterLocalDateAtMidnight) {\n                      return 1;\n                    } else {\n                      return 0;\n                    }\n                  },\n                },\n              },\n            }}\n            rowData={rowData}\n            onGridReady={onGridReady}\n          >\n            <AgGridColumn headerName=\"Employee Name\" field=\"employee_name\" checkboxSelection={ true }/>\n            <AgGridColumn headerName=\"Mobile No.\" field=\"mobile_number\" type=\"numberColumn\"/>\n            <AgGridColumn headerName=\"Employee Age\" field=\"employee_age\" type=\"numberColumn\" />\n            <AgGridColumn headerName=\"Email\" field=\"email\" />\n            <AgGridColumn\n              headerName=\"Date\"\n              field=\"date\"\n              type={['dateColumn', 'nonEditableColumn']}\n              width={220}\n            />\n            \n            {/* <AgGridColumn headerName=\"Medals\" groupId=\"medalsGroup\">\n              <AgGridColumn headerName=\"Gold\" field=\"gold\" type=\"medalColumn\" />\n              <AgGridColumn\n                headerName=\"Silver\"\n                field=\"silver\"\n                type=\"medalColumn\"\n              />\n              <AgGridColumn\n                headerName=\"Bronze\"\n                field=\"bronze\"\n                type=\"medalColumn\"\n              />\n              <AgGridColumn\n                headerName=\"Total\"\n                field=\"total\"\n                type=\"medalColumn\"\n                columnGroupShow=\"closed\"\n              />\n            </AgGridColumn> */}\n          </AgGridReact>\n        </div>\n\n       <Modal show={showModal} onHide={handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Employee Data</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n           <Form onSubmit={handleSubmit(onSubmit)}>\n           <Form.Group>\n              <Form.Label>Employee Name: </Form.Label>\n              <Form.Control type=\"text\" onChange={handleChange} value={state.employee_name} name=\"employee_name\" placeholder=\"Employee Name\" ref={register({required:true,minLength:2})}/> \n              {errors.employee_name && errors.employee_name.type === \"required\" && (<p className=\"error\">This is required</p>)}\n                {errors.employee_name && errors.employee_name.type === \"minLength\" && (<p className=\"error\">This is field required min length of 2</p>)}          \n          </Form.Group>\n          <Form.Group>\n              <Form.Label>Employee Salary: </Form.Label>\n              <Form.Control type=\"text\" onChange={handleChange} value={state.employee_salary} name=\"employee_salary\" placeholder=\"Employee Salary\" ref={register({required:true})}/> \n              {errors.employee_salary && errors.employee_salary.type === \"required\" && (<p className=\"error\">This is required</p>)}            \n          </Form.Group>\n         \n          <Form.Group>\n              <Form.Label>Employee Age: </Form.Label>\n              <Form.Control type=\"text\" onChange={handleChange} value={state.employee_age} name=\"employee_age\" placeholder=\"Employee Age\"  ref={register({ required:true,pattern: /\\d+/ })}/> \n              {errors.employee_age && errors.employee_age.type === \"required\" && (<p className=\"error\">This is required</p>)}\n              {errors.employee_age && errors.employee_age.type === \"pattern\" && (<p className=\"error\">Please enter number for age.</p>)}            \n          </Form.Group>\n\n          <Form.Group>\n              <Form.Label>Employee Email: </Form.Label>\n              <Form.Control type=\"text\" onChange={handleChange} value={state.email} name=\"email\" placeholder=\"Employee Age\"  ref={register({ required: true, pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,maxLength: 50 })}/> \n              {errors.email && errors.email.type === \"required\" && (<p className=\"error\">This is required</p>)}\n              {errors.email && errors.email.type === \"pattern\" && (<p className=\"error\">Please enter valid email.</p>)}\n              {errors.email && errors.email.type === \"maxLength\" && (<p className=\"error\">This is field required max length of 50</p>)}            \n          </Form.Group>\n\n          \n\n          <Button variant=\"primary\" type=\"submit\">\n              Submit\n          </Button>\n          </Form> \n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={handleClose}>\n              Close\n            </Button>\n            \n          </Modal.Footer>\n        </Modal>\n        </>\n    );\n};\n\nexport default DataGrid;"]},"metadata":{},"sourceType":"module"}