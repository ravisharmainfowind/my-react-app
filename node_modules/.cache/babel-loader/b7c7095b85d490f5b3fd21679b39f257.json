{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/my-app/src/components/Employee/Employee.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../../constants/apiConstants';\nimport { withRouter, Switch, Route, Link, Redirect } from \"react-router-dom\"; //import {Route, IndexRoute,browserHistory} from 'react-router';\n\nimport { Router, browserHistory } from 'react-router';\nimport AddEmployee from '../AddEmployee/AddEmployee';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Employee extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getEmployees = () => {\n      let self = this;\n      const config = {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          \"Access-Control-Allow-Origin\": \"\",\n          \"Allow\": \"GET\",\n          \"Content-type\": \"Application/json\"\n        }\n      };\n      axios.get(API_BASE_URL + 'api/employees', config).then(function (response) {\n        //console.log(response)\n        if (response.status === 200) {\n          self.setState({\n            employees: response.data\n          }); //this.setState({employees:response})\n        } //console.log(self.state.employees)\n\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      //error: null,\n      isLoaded: false,\n      employees: [],\n      deleteMessage: ''\n    };\n    this.getEmployees = this.getEmployees.bind(this);\n    this.handleClickDelete = this.handleClickDelete.bind(this);\n  }\n\n  componentDidMount() {\n    this.getEmployees();\n  }\n\n  handleClickDelete(id) {\n    console.log(id);\n    let self = this;\n    axios.delete(API_BASE_URL + 'api/employees/' + id).then(function (response) {\n      if (response.status === 202) {\n        self.setState({\n          deleteMessage: response.data.message\n        });\n        self.getEmployees();\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  handleClickEdit(id) {\n    //const { history } = this.props;\n    //if(history) history.push('/employee/edit/'+id);\n    const {\n      history\n    } = this.props;\n    this.props.history.push('/employee/edit/' + id);\n  }\n\n  handleClickRd() {\n    const {\n      history\n    } = this.props;\n    this.props.history.push('/employee/add');\n  }\n\n  render() {\n    const {\n      history\n    } = this.props;\n    const EmployeeData = this.state.employees.length > 0 && this.state.employees.map((employee, idx) => {\n      const self = this;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            scope: \"row\",\n            children: idx + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: employee != undefined && employee.employee_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: employee != undefined && employee.employee_salary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: employee != undefined && employee.employee_age\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => self.handleClickEdit(employee.id),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), \"/\", /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger\",\n              id: employee.id,\n              value: employee.id,\n              onClick: () => self.handleClickDelete(employee.id),\n              children: \"Delete\"\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, employee != undefined && employee.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.handleClickRd(),\n        className: \"btn btn-success btn-lg float-right\",\n        children: \" Add Employee \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/employee/add/\",\n          component: AddEmployee\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Employee Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Salary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Age\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: EmployeeData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Employee);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/opt/lampp/htdocs/my-app/src/components/Employee/Employee.js"],"names":["React","Component","axios","API_BASE_URL","withRouter","Switch","Route","Link","Redirect","Router","browserHistory","AddEmployee","Employee","constructor","props","getEmployees","self","config","headers","localStorage","getItem","get","then","response","status","setState","employees","data","catch","error","console","log","state","isLoaded","deleteMessage","bind","handleClickDelete","componentDidMount","id","delete","message","handleClickEdit","history","push","handleClickRd","render","EmployeeData","length","map","employee","idx","undefined","employee_name","employee_salary","employee_age"],"mappings":";AAAA,OAAOA,KAAP,IAAiBC,SAAjB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,YAAR,QAA4B,8BAA5B;AACA,SAASC,UAAT,EAAoBC,MAApB,EAA4BC,KAA5B,EAAmCC,IAAnC,EAAwCC,QAAxC,QAAwD,kBAAxD,C,CACA;;AACA,SAASC,MAAT,EAAgBC,cAAhB,QAAsC,cAAtC;AACA,OAAOC,WAAP,MAAwB,4BAAxB;;;;AAEA,MAAMC,QAAN,SAAuBX,SAAvB,CAAiC;AAC7BY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAgBnBC,YAhBmB,GAgBL,MAAM;AAChB,UAAIC,IAAI,GAAE,IAAV;AACA,YAAMC,MAAM,GAAG;AACXC,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B,EADpD;AAEL,yCAAgC,EAF3B;AAGL,mBAAS,KAHJ;AAIL,0BAAgB;AAJX;AADE,OAAf;AAQAlB,MAAAA,KAAK,CAACmB,GAAN,CAAUlB,YAAY,GAAC,eAAvB,EAAuCc,MAAvC,EACCK,IADD,CACM,UAAUC,QAAV,EAAoB;AACtB;AACA,YAAGA,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;AACvBR,UAAAA,IAAI,CAACS,QAAL,CAAc;AAAEC,YAAAA,SAAS,EAAEH,QAAQ,CAACI;AAAtB,WAAd,EADuB,CAEvB;AACH,SALqB,CAMtB;;AACH,OARD,EASCC,KATD,CASO,UAAUC,KAAV,EAAiB;AACpBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAXD;AAYH,KAtCkB;;AAEf,SAAKG,KAAL,GAAa;AACX;AACAC,MAAAA,QAAQ,EAAE,KAFC;AAGXP,MAAAA,SAAS,EAAE,EAHA;AAIXQ,MAAAA,aAAa,EAAC;AAJH,KAAb;AAMA,SAAKnB,YAAL,GAAoB,KAAKA,YAAL,CAAkBoB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzB;AACD;;AAEDE,EAAAA,iBAAiB,GAAG;AAClB,SAAKtB,YAAL;AACD;;AA0BHqB,EAAAA,iBAAiB,CAACE,EAAD,EAAI;AAClBR,IAAAA,OAAO,CAACC,GAAR,CAAYO,EAAZ;AACA,QAAItB,IAAI,GAAE,IAAV;AACCd,IAAAA,KAAK,CAACqC,MAAN,CAAapC,YAAY,GAAC,gBAAb,GAA8BmC,EAA3C,EACChB,IADD,CACM,UAAUC,QAAV,EAAoB;AACtB,UAAGA,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;AACvBR,QAAAA,IAAI,CAACS,QAAL,CAAc;AAAES,UAAAA,aAAa,EAAEX,QAAQ,CAACI,IAAT,CAAca;AAA/B,SAAd;AACAxB,QAAAA,IAAI,CAACD,YAAL;AACH;AACJ,KAND,EAOCa,KAPD,CAOO,UAAUC,KAAV,EAAiB;AACpBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KATD;AAUH;;AAEDY,EAAAA,eAAe,CAACH,EAAD,EAAI;AACf;AACA;AACA,UAAM;AAAEI,MAAAA;AAAF,QAAc,KAAK5B,KAAzB;AACA,SAAKA,KAAL,CAAW4B,OAAX,CAAmBC,IAAnB,CAAwB,oBAAkBL,EAA1C;AACA;;AAEJM,EAAAA,aAAa,GAAE;AACX,UAAM;AAAEF,MAAAA;AAAF,QAAc,KAAK5B,KAAzB;AACA,SAAKA,KAAL,CAAW4B,OAAX,CAAmBC,IAAnB,CAAwB,eAAxB;AACH;;AAEDE,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEH,MAAAA;AAAF,QAAc,KAAK5B,KAAzB;AACI,UAAMgC,YAAY,GAAG,KAAKd,KAAL,CAAWN,SAAX,CAAqBqB,MAArB,GAA8B,CAA9B,IAAmC,KAAKf,KAAL,CAAWN,SAAX,CAAqBsB,GAArB,CAAyB,CAACC,QAAD,EAAUC,GAAV,KAAkB;AAC/F,YAAMlC,IAAI,GAAG,IAAb;AACJ,0BAAQ;AAAA,+BACR;AAAA,kCACA;AAAI,YAAA,KAAK,EAAC,KAAV;AAAA,sBAAkBkC,GAAG,GAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAA,sBAAKD,QAAQ,IAAGE,SAAX,IAAwBF,QAAQ,CAACG;AAAtC;AAAA;AAAA;AAAA;AAAA,kBAFA,eAGA;AAAA,sBAAKH,QAAQ,IAAGE,SAAX,IAAwBF,QAAQ,CAACI;AAAtC;AAAA;AAAA;AAAA;AAAA,kBAHA,eAIA;AAAA,sBAAKJ,QAAQ,IAAGE,SAAX,IAAwBF,QAAQ,CAACK;AAAtC;AAAA;AAAA;AAAA;AAAA,kBAJA,eAKA;AAAA,oCAGI;AAAQ,cAAA,SAAS,EAAC,iBAAlB;AAAoC,cAAA,OAAO,EAAE,MAAMtC,IAAI,CAACyB,eAAL,CAAqBQ,QAAQ,CAACX,EAA9B,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,oBAII;AAAQ,cAAA,SAAS,EAAC,gBAAlB;AAA6C,cAAA,EAAE,EAAEW,QAAQ,CAACX,EAA1D;AAA8D,cAAA,KAAK,EAAEW,QAAQ,CAACX,EAA9E;AAAkF,cAAA,OAAO,EAAE,MAAMtB,IAAI,CAACoB,iBAAL,CAAuBa,QAAQ,CAACX,EAAhC,CAAjG;AAAA;AAAA,eAAwCY,GAAxC;AAAA;AAAA;AAAA;AAAA,oBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBALA;AAAA,WAASD,QAAQ,IAAGE,SAAX,IAAwBF,QAAQ,CAACX,EAA1C;AAAA;AAAA;AAAA;AAAA;AADQ,uBAAR;AAcD,KAhByD,CAAxD;AAkBR,wBAAO;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACJ;AAAQ,QAAA,OAAO,EAAE,MAAM,KAAKM,aAAL,EAAvB;AAA6C,QAAA,SAAS,EAAC,oCAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADI,eAGF,QAAC,MAAD;AAAA,+BACK,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,gBAAlB;AAAmC,UAAA,SAAS,EAAEjC;AAA9C;AAAA;AAAA;AAAA;AAAA;AADL;AAAA;AAAA;AAAA;AAAA,cAHE,eAOK;AAAO,QAAA,SAAS,EAAC,OAAjB;AAAA,gCAEA;AAAA,iCACI;AAAA,oCACA;AAAI,cAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,eAEA;AAAI,cAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFA,eAGA;AAAI,cAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHA,eAIA;AAAI,cAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJA,eAKA;AAAI,cAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAFA,eAWA;AAAA,oBACMmC;AADN;AAAA;AAAA;AAAA;AAAA,gBAXA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPL;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAwBD;;AAhH8B;;AAmHjC,oBAAe1C,UAAU,CAACQ,QAAD,CAAzB","sourcesContent":["import React , { Component } from 'react';\nimport axios from 'axios';\nimport {API_BASE_URL } from '../../constants/apiConstants';\nimport { withRouter,Switch, Route, Link,Redirect } from \"react-router-dom\";\n//import {Route, IndexRoute,browserHistory} from 'react-router';\nimport { Router,browserHistory } from 'react-router';\nimport AddEmployee from '../AddEmployee/AddEmployee';\n\nclass Employee extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          //error: null,\n          isLoaded: false,\n          employees: [],\n          deleteMessage:''\n        };\n        this.getEmployees = this.getEmployees.bind(this);\n        this.handleClickDelete = this.handleClickDelete.bind(this);\n      }\n \n      componentDidMount() {   \n        this.getEmployees();\n      } \n\n    getEmployees= () => {\n        let self =this;\n        const config = {\n            headers: {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`,\n                \"Access-Control-Allow-Origin\" : \"\",\n                \"Allow\": \"GET\",\n                \"Content-type\": \"Application/json\",    \n            }\n        };\n        axios.get(API_BASE_URL+'api/employees',config)\n        .then(function (response) {\n            //console.log(response)\n            if(response.status === 200){\n                self.setState({ employees: response.data })\n                //this.setState({employees:response})\n            }\n            //console.log(self.state.employees)\n        })\n        .catch(function (error) {\n            console.log(error);\n        });    \n    }\n\n    handleClickDelete(id){\n       console.log(id)\n       let self =this;\n        axios.delete(API_BASE_URL+'api/employees/'+id)\n        .then(function (response) {\n            if(response.status === 202){\n                self.setState({ deleteMessage: response.data.message }) \n                self.getEmployees(); \n            } \n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n    };\n\n    handleClickEdit(id){\n        //const { history } = this.props;\n        //if(history) history.push('/employee/edit/'+id);\n        const { history } = this.props;\n        this.props.history.push('/employee/edit/'+id);\n       }\n\n    handleClickRd(){\n        const { history } = this.props;\n        this.props.history.push('/employee/add');\n    }\n\n    render() {   \n        const { history } = this.props;\n            const EmployeeData = this.state.employees.length > 0 && this.state.employees.map((employee,idx) => {  \n                const self = this;  \n            return  <>\n            <tr key={employee!= undefined && employee.id}>\n            <td scope=\"row\" >{idx+1}</td>\n            <td>{employee!= undefined && employee.employee_name}</td>\n            <td>{employee!= undefined && employee.employee_salary}</td>\n            <td>{employee!= undefined && employee.employee_age}</td>\n            <td> \n                \n                {/* <Link to={'/employee/edit/'+employee.id} className=\"btn btn-primary\"> Edit </Link>    */}\n                <button className=\"btn btn-primary\" onClick={() => self.handleClickEdit(employee.id)}>Edit</button>/\n                <button className=\"btn btn-danger\" key={idx} id={employee.id} value={employee.id} onClick={() => self.handleClickDelete(employee.id)}>Delete</button>\n             </td>    \n            </tr>\n            </>;   \n          });\n        \n    return <div className=\"container\">\n       <button onClick={() => this.handleClickRd()} className=\"btn btn-success btn-lg float-right\"> Add Employee </button>\n         {/* <Link to={'/employee/add/'} className=\"btn btn-success btn-lg float-right\"> Add Employee </Link> */}\n         <Switch>\n              <Route exact path='/employee/add/' component={AddEmployee} />\n          </Switch>\n       \n                <table className=\"table\">\n                   \n                <thead>\n                    <tr>\n                    <th scope=\"col\">#</th>\n                    <th scope=\"col\">Employee Name</th>\n                    <th scope=\"col\">Salary</th>\n                    <th scope=\"col\">Age</th>\n                    <th scope=\"col\">Action</th>\n                    </tr>\n                </thead>\n                <tbody>        \n                     {EmployeeData}\n                     \n                </tbody>\n                </table>\n         </div>;\n  }\n}\n\nexport default withRouter(Employee);"]},"metadata":{},"sourceType":"module"}