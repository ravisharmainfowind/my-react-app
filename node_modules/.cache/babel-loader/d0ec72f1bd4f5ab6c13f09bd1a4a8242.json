{"ast":null,"code":"import { API_BASE_URL, ACCESS_TOKEN_NAME } from '../constants/apiConstants';\nconst BASE_URL = 'http://localhost:8000/';\nconst Service = {\n  get: param => {\n    let header = {\n      \"content-type\": \"application/json\",\n      \"accept\": \"application/json\"\n    }; //let token_base64= localStorage.getItem(ACCESS_TOKEN_NAME);\n    //let token = atob(token_base64);\n    //let token = localStorage.getItem(ACCESS_TOKEN_NAME);\n    // if(token) {\n    //     header[\"x-access-token\"] = token;\n    // }\n\n    let token_base64 = localStorage.getItem(ACCESS_TOKEN_NAME);\n\n    if (token_base64.length > 5 || token_base64 != null || token_base64 != undefined) {\n      let token = atob(token_base64);\n\n      if (token) {\n        header[\"x-access-token\"] = token;\n        header['Authorization'] = `Bearer ${token}`;\n      }\n    }\n\n    return fetch(BASE_URL + param.url, {\n      method: \"GET\",\n      headers: header\n    }).then(response => response.json(), error => {\n      throw new Error(error);\n    });\n  },\n  post: param => {\n    let header = {\n      \"content-type\": \"application/json\",\n      \"accept\": \"application/json\"\n    };\n    let token_base64 = localStorage.getItem(ACCESS_TOKEN_NAME);\n\n    if (token_base64.length > 5 || token_base64 != null || token_base64 != undefined) {\n      let token = atob(token_base64);\n\n      if (token) {\n        header[\"x-access-token\"] = token;\n        header['Authorization'] = `Bearer ${token}`;\n      }\n    } //let token = localStorage.getItem(ACCESS_TOKEN_NAME);\n\n\n    return fetch(BASE_URL + param.url, {\n      method: \"POST\",\n      headers: header,\n      body: param.body\n    }).then(response => response.json());\n  },\n  put: param => {\n    let header = {\n      \"content-type\": \"application/json\",\n      \"accept\": \"application/json\"\n    }; // let token = localStorage.getItem('token');\n    // if(token) {\n    //     header[\"x-access-token\"] = token;\n    // }\n\n    let token_base64 = localStorage.getItem(ACCESS_TOKEN_NAME);\n\n    if (token_base64.length > 5 || token_base64 != null || token_base64 != undefined) {\n      let token = atob(token_base64);\n\n      if (token) {\n        header[\"x-access-token\"] = token;\n        header['Authorization'] = `Bearer ${token}`;\n      }\n    }\n\n    return fetch(BASE_URL + param.url, {\n      method: \"PUT\",\n      headers: header,\n      body: param.body\n    }).then(response => response.json());\n  },\n  delete: param => {\n    let header = {\n      \"content-type\": \"application/json\",\n      \"accept\": \"application/json\"\n    }; // let token = localStorage.getItem('token');\n    // if(token) {\n    //     header[\"x-access-token\"] = token;\n    // }\n\n    let token_base64 = localStorage.getItem(ACCESS_TOKEN_NAME);\n\n    if (token_base64.length > 5 || token_base64 != null || token_base64 != undefined) {\n      let token = atob(token_base64);\n\n      if (token) {\n        header[\"x-access-token\"] = token;\n        header['Authorization'] = `Bearer ${token}`;\n      }\n    }\n\n    return fetch(BASE_URL + param.url, {\n      method: \"DELETE\",\n      headers: header\n    }).then(response => response.json(), error => {\n      throw new Error(error);\n    });\n  },\n\n  getImage(image) {\n    return BASE_URL + '/' + image;\n  }\n\n};\nconst Storage = {\n  isLogedin: param => {\n    return localStorage.getItem('token') !== null;\n  },\n  set: (key, value) => {\n    localStorage.setItem(key, JSON.stringify(value));\n  },\n  get: (key, value) => {\n    return JSON.parse(localStorage.getItem(key));\n  },\n  setString: (key, value) => {\n    localStorage.setItem(key, value);\n  },\n  logout: () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('auth');\n  }\n};\nexport { Service, Storage };","map":{"version":3,"sources":["/opt/lampp/htdocs/my-app/src/services/Service.js"],"names":["API_BASE_URL","ACCESS_TOKEN_NAME","BASE_URL","Service","get","param","header","token_base64","localStorage","getItem","length","undefined","token","atob","fetch","url","method","headers","then","response","json","error","Error","post","body","put","delete","getImage","image","Storage","isLogedin","set","key","value","setItem","JSON","stringify","parse","setString","logout","removeItem"],"mappings":"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","sourcesContent":["import { API_BASE_URL,ACCESS_TOKEN_NAME } from '../constants/apiConstants';\r\n const BASE_URL = 'http://localhost:8000/';\r\n\r\n\r\nconst Service = {\r\n    get: (param) => {\r\n\r\n        let header = {\r\n            \"content-type\": \"application/json\",\r\n            \"accept\": \"application/json\"\r\n        };\r\n        //let token_base64= localStorage.getItem(ACCESS_TOKEN_NAME);\r\n        //let token = atob(token_base64);\r\n        //let token = localStorage.getItem(ACCESS_TOKEN_NAME);\r\n        // if(token) {\r\n        //     header[\"x-access-token\"] = token;\r\n        // }\r\n\r\n        let token_base64 = localStorage.getItem(ACCESS_TOKEN_NAME);\r\n        if(token_base64.length > 5 || token_base64!=null || token_base64!=undefined ) {\r\n        let token = atob(token_base64);\r\n          if(token) {\r\n            header[\"x-access-token\"] = token;\r\n            header['Authorization'] = `Bearer ${token}`;\r\n         }\r\n        }\r\n\r\n        return fetch(BASE_URL + param.url, {\r\n            method: \"GET\",\r\n            headers: header\r\n        })\r\n        .then(\r\n            response => response.json(),\r\n            error => {\r\n                throw new Error(error)\r\n            }\r\n        );\r\n    },\r\n    post: (param) => {\r\n        \r\n        let header = {\r\n            \"content-type\": \"application/json\",\r\n            \"accept\": \"application/json\"\r\n        };\r\n\r\n        let token_base64= localStorage.getItem(ACCESS_TOKEN_NAME);\r\n        if(token_base64.length > 5 || token_base64!=null || token_base64!=undefined ) {\r\n        let token = atob(token_base64);\r\n          if(token) {\r\n            header[\"x-access-token\"] = token;\r\n            header['Authorization'] = `Bearer ${token}`;\r\n         }\r\n        }\r\n        //let token = localStorage.getItem(ACCESS_TOKEN_NAME);\r\n        \r\n      \r\n        return fetch(BASE_URL + param.url, {\r\n            method: \"POST\",\r\n            headers: header,\r\n            body: param.body\r\n        })\r\n        .then(response => response.json())\r\n    },\r\n\r\n    put: (param) => {\r\n        let header = {\r\n            \"content-type\": \"application/json\",\r\n            \"accept\": \"application/json\"\r\n        };\r\n\r\n        // let token = localStorage.getItem('token');\r\n        // if(token) {\r\n        //     header[\"x-access-token\"] = token;\r\n        // }\r\n\r\n        let token_base64= localStorage.getItem(ACCESS_TOKEN_NAME);\r\n        if(token_base64.length > 5 || token_base64!=null || token_base64!=undefined ) {\r\n        let token = atob(token_base64);\r\n          if(token) {\r\n            header[\"x-access-token\"] = token;\r\n            header['Authorization'] = `Bearer ${token}`;\r\n         }\r\n        }\r\n\r\n        return fetch(BASE_URL + param.url, {\r\n            method: \"PUT\",\r\n            headers: header,\r\n            body: param.body\r\n        })\r\n        .then(response => response.json())\r\n    },\r\n\r\n    delete: (param) => {\r\n\r\n        let header = {\r\n            \"content-type\": \"application/json\",\r\n            \"accept\": \"application/json\"\r\n        };\r\n\r\n        // let token = localStorage.getItem('token');\r\n        // if(token) {\r\n        //     header[\"x-access-token\"] = token;\r\n        // }\r\n        \r\n        let token_base64= localStorage.getItem(ACCESS_TOKEN_NAME);\r\n        if(token_base64.length > 5 || token_base64!=null || token_base64!=undefined ) {\r\n        let token = atob(token_base64);\r\n          if(token) {\r\n            header[\"x-access-token\"] = token;\r\n            header['Authorization'] = `Bearer ${token}`;\r\n         }\r\n        }\r\n\r\n        return fetch(BASE_URL + param.url, {\r\n            method: \"DELETE\",\r\n            headers: header\r\n        })\r\n        .then(\r\n            response => response.json(),\r\n            error => {\r\n                throw new Error(error)\r\n            }\r\n        );\r\n    },\r\n\r\n    getImage(image) {\r\n        return BASE_URL + '/' + image;\r\n    }\r\n};\r\n\r\nconst Storage = {\r\n    isLogedin: (param) => {  \r\n        return localStorage.getItem('token') !== null;\r\n    },\r\n    set: (key, value) => {\r\n        localStorage.setItem(key, JSON.stringify(value));\r\n    },\r\n    get: (key, value) => {\r\n        return JSON.parse(localStorage.getItem(key));\r\n    },\r\n    setString: (key, value) => {\r\n        localStorage.setItem(key, value);\r\n    },\r\n    logout: () => {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('auth');\r\n    }\r\n};\r\n\r\nexport {Service, Storage};\r\n"]},"metadata":{},"sourceType":"module"}